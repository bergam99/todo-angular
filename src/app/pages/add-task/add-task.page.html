<main>
  <form #myForm="ngForm" (ngSubmit)="onSubmit()">
    <!-- CATEGORY -->

    <p class="category-label">Sélectionnez votre catégorie* :</p>

    <div class="category-list">
      <div class="circle">
        <input class="radio" type="radio" id="shopping" name="category" [(ngModel)]="task.category" value="🛍️" required/>
        <label class="circle-label " for="shopping">&nbsp;&nbsp;<span class="icon"> 🛍️</span></label>
      </div>
      <div class="circle">
        <input class="radio" type="radio" id="health" name="category" [(ngModel)]="task.category" value="💊" required/>
        <label class="circle-label " for="health">&nbsp;&nbsp;<span class="icon">💊</span></label>
      </div>
      <div class="circle">
        <input class="radio" type="radio" id="work" name="category" [(ngModel)]="task.category" value="💼" required/>
        <label class="circle-label " for="work">&nbsp;&nbsp;<span class="icon">💼</span></label>
      </div>
      <div class="circle">
        <input class="radio" type="radio" id="bills" name="category" [(ngModel)]="task.category" value="💸" required/>
        <label class="circle-label " for="bills">&nbsp;&nbsp;<span class="icon">💸</span></label>
      </div>
      <div class="circle">
        <input class="radio" type="radio" id="cleaning" name="category" [(ngModel)]="task.category" value="🧼" required/>
        <label class="circle-label " for="cleaning">&nbsp;&nbsp;<span class="icon">🧼</span></label>
      </div>
      <div class="circle">
        <input class="radio" type="radio" id="other" name="category" [(ngModel)]="task.category" value="🤷‍♀️" required/>
        <label class="circle-label " for="other">&nbsp;&nbsp;<span class="icon">🤷‍♀️</span> </label>
      </div>
    </div>

    <!-- TEXTAREA -->
    <div>
      <label for="content">Quelle tâche avez vous à effectuer* ?</label>
      <textarea placeholder="Exemple : Faire les courses" id="content" name="content" [(ngModel)]="task.content"
        required></textarea>
    </div>

    <!-- URGENT -->
    <div>
      <input class="checkbox" type="checkbox" id="isUrgent" name="isUrgent" [(ngModel)]="task.isUrgent">
      <label for="isUrgent">&nbsp;&nbsp;La tâche est urgente ⚠️</label>

    </div>

    <!-- SUBMIT -->
    <!-- Not Edit mode -->
    <div class="flex fix" *ngIf="!isEditMode">
      <button class="valider" type="submit" [style.opacity]="myForm.valid ? 1 : 0.5" [disabled]="!myForm.valid">
        Valider ma tâche</button>
    </div>

    <!-- Edit mode -->
    <div class="flex fix" *ngIf="isEditMode">
      <button (click)="onSave()" class="valider" type="submit" [style.opacity]="myForm.valid ? 1 : 0.5"
        [disabled]="!myForm.valid">Modifier ma tâche</button>
    </div>
  </form>
</main>
